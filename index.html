<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Ğ¡ 8 Ğ¼Ğ°Ñ€Ñ‚Ğ° â€” Ğ¸Ğ¼ĞµĞ½Ğ½Ñ‹Ğµ Ğ¾Ñ‚ĞºÑ€Ñ‹Ñ‚ĞºĞ¸</title>
    <link rel="stylesheet" href="themes/base.css">
    <link rel="stylesheet" href="themes/themes.css">
</head>
<body id="mainBody">

    <div class="petals-front" id="petalsFront"></div>

    <div class="main-card">
        <div class="settings-button" id="settingsButton" aria-label="ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸">âš™ï¸</div>

        <h1 class="main-title" id="titleClick" role="button" tabindex="0">Ğ¡ 8 Ğ¼Ğ°Ñ€Ñ‚Ğ°</h1>
        <div class="soft-sub">ÑĞ°Ğ¼Ñ‹Ğµ Ğ¿Ñ€ĞµĞºÑ€Ğ°ÑĞ½Ñ‹Ğµ Ğ¸ Ğ½ĞµĞ¶Ğ½Ñ‹Ğµ</div>

        <div class="names-wishes" id="namesContainer"></div>

        <div class="game-section">
            <div class="game-title">
                <span>ğŸŒ¸</span> Ğ¡Ğ¾Ğ±ĞµÑ€Ğ¸ Ğ±ÑƒĞºĞµÑ‚ <span>ğŸŒ·</span>
            </div>
            <div class="clicker-area">
                <div class="counter-display" id="flowerCounter">ğŸŒº 0</div>
                <div class="progress-container">
                    <div class="progress-bar" id="progressBar"></div>
                </div>
                <div class="big-flower" id="clickFlower" role="button" tabindex="0" aria-label="ĞšĞ»Ğ¸ĞºĞ½Ğ¸ Ñ†Ğ²ĞµÑ‚Ğ¾Ğº">ğŸŒ¸</div>
                <div class="game-hint" id="gameHint">ĞšĞ»Ğ¸ĞºĞ°Ğ¹ Ğ½Ğ° Ñ†Ğ²ĞµÑ‚Ğ¾Ğº âœ¨</div>
            </div>
        </div>

        <div class="signature" id="easterEgg" role="button" tabindex="0">
            <span>ğŸ’—</span> by Aizen with love <span>ğŸ’—</span>
        </div>
    </div>

    <!-- ĞœĞĞ”ĞĞ›ĞšĞ˜ -->
    <div id="nameModal" class="custom-modal">
        <div class="custom-modal-content">
            <div class="modal-flower" id="modalNameIcon">ğŸŒ¸</div>
            <div class="modal-message" id="modalNameTitle">ĞĞ½Ğ½Ğ°</div>
            <div id="modalWishes" class="wish-lines"></div>
            <div class="modal-btn" onclick="closeNameModal()">Ğ¡Ğ¿Ğ°ÑĞ¸Ğ±Ğ¾ âœ¨</div>
        </div>
    </div>

    <div id="victoryModal" class="custom-modal">
        <div class="custom-modal-content">
            <div class="modal-flower">ğŸŒ¸ğŸŒ·ğŸŒ¸</div>
            <div class="modal-message" id="victoryMessage">ğŸ‰ 100 Ñ†Ğ²ĞµÑ‚Ğ¾Ğ²!<br>Ğ¢Ñ‹ Ğ½ĞµĞ²ĞµÑ€Ğ¾ÑÑ‚Ğ½Ğ°! ğŸ‰</div>
            <div class="modal-btn" onclick="closeVictoryModal()">Ğ¡Ğ¿Ğ°ÑĞ¸Ğ±Ğ¾ âœ¨</div>
        </div>
    </div>

    <div id="complimentModal" class="custom-modal">
        <div class="custom-modal-content">
            <div class="modal-flower">ğŸ’âœ¨ğŸ’</div>
            <div class="modal-message" id="complimentMessage">Ğ¢Ñ‹ ÑÑƒĞ¿ĞµÑ€!</div>
            <div class="modal-btn" onclick="closeComplimentModal()">ğŸŒ¸ Ğ¡Ğ¿Ğ°ÑĞ¸Ğ±Ğ¾</div>
        </div>
    </div>

    <div id="promoModal" class="custom-modal">
        <div class="custom-modal-content">
            <div class="modal-flower">ğŸğŸ’—ğŸ</div>
            <div class="modal-message">ĞĞ°Ğ´ĞµÑÑÑŒ, Ğ²Ñ‹ Ğ¼ĞµĞ½Ñ Ğ½Ğµ Ğ½ĞµĞ½Ğ°Ğ²Ğ¸Ğ´Ğ¸Ñ‚Ğµ)<br>Ğ’Ğ¾Ñ‚ Ğ²Ğ°Ğ¼ Ğ¿Ğ¾Ğ´Ğ°Ñ€Ğ¾Ğº - Ğ²Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ¿Ñ€Ğ¾Ğ¼Ğ¾ĞºĞ¾Ğ´<br><span style="font-size:1.3rem;">(ĞŸĞ¾Ğ´ÑĞºĞ°Ğ·ĞºĞ°: ÑÑ‚Ğ¾ Ğ¼ĞµĞ¼Ğ½Ğ¾Ğµ Ñ‡Ğ¸ÑĞ»Ğ¾)</span></div>
            <input type="text" id="promoCodeInput" class="promo-input" placeholder="ĞĞ°Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€ 1488" maxlength="10" inputmode="numeric">
            <div class="modal-btn" id="applyPromoCodeBtn">ĞĞºÑ‚Ğ¸Ğ²Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ</div>
            <div class="modal-btn" onclick="closePromoModal()" style="margin-top:8px; background:#ffe2ed;">Ğ—Ğ°ĞºÑ€Ñ‹Ñ‚ÑŒ</div>
        </div>
    </div>

    <div id="settingsModal" class="custom-modal settings-modal">
        <div class="custom-modal-content">
            <div class="modal-flower">âš™ï¸ğŸŒ¸âš™ï¸</div>
            <div class="modal-message">ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸</div>
            <div class="slider-row">
                <label for="petalCountSlider">ĞšĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ Ğ»ĞµĞ¿ĞµÑÑ‚ĞºĞ¾Ğ²: <span id="petalCountValue">25</span></label>
                <input type="range" id="petalCountSlider" min="0" max="200" value="25" step="1">
            </div>
            <div class="about-dev">
                ğŸ’» Ğ Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‡Ğ¸ĞºĞ°Ñ…
            </div>
            <div class="dev-links">
                <div>âœï¸ ĞĞ²Ñ‚Ğ¾Ñ€: <a href="https://t.me/su57ks" target="_blank" rel="noopener">@su57ks</a></div>
                <div>ğŸ’¡ Ğ˜Ğ´ĞµĞ¸: <a href="https://t.me/selyswag" target="_blank" rel="noopener">@selyswag</a></div>
                <div class="thanks">ğŸ™ Ğ¡Ğ¿Ğ°ÑĞ¸Ğ±Ğ¾ Ğ•Ğ³Ğ¾Ñ€Ñƒ Ğ•. Ğ¸ Ğ”ĞµĞ½Ğ¸ÑÑƒ Ğ¡.</div>
            </div>
            <div class="modal-btn" onclick="closeSettingsModal()">Ğ—Ğ°ĞºÑ€Ñ‹Ñ‚ÑŒ</div>
        </div>
    </div>

    <script>
        // ==================== Ğ”ĞĞĞĞ«Ğ• Ğ˜ĞœĞĞ ====================
        const namesData = [
            { icon: 'ğŸŒ¸', name: 'ĞĞ»ÑŒĞ³Ğ° ĞĞ¸ĞºĞ¾Ğ»Ğ°ĞµĞ²Ğ½Ğ°', special: true, wishes: [
                'Ğ¡ 8 Ğ¼Ğ°Ñ€Ñ‚Ğ°, ĞĞ»ÑŒĞ³Ğ° ĞĞ¸ĞºĞ¾Ğ»Ğ°ĞµĞ²Ğ½Ğ°!',
                'Ğ’Ñ‹ â€” ÑĞ°Ğ¼Ñ‹Ğ¹ Ğ»ÑƒÑ‡ÑˆĞ¸Ğ¹ ĞºĞ»Ğ°ÑÑĞ½Ñ‹Ğ¹ Ñ€ÑƒĞºĞ¾Ğ²Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ÑŒ!',
                'Ğ—Ğ´Ğ¾Ñ€Ğ¾Ğ²ÑŒÑ, ÑÑ‡Ğ°ÑÑ‚ÑŒÑ Ğ¸ Ğ²Ğ´Ğ¾Ñ…Ğ½Ğ¾Ğ²ĞµĞ½Ğ¸Ñ!',
                'ĞŸÑƒÑÑ‚ÑŒ ÑƒÑ‡ĞµĞ½Ğ¸ĞºĞ¸ Ñ€Ğ°Ğ´ÑƒÑÑ‚ ĞºĞ°Ğ¶Ğ´Ñ‹Ğ¹ Ğ´ĞµĞ½ÑŒ! ğŸ’'
            ]},
            { icon: 'ğŸŒ·', name: 'Ğ›ÑƒĞºĞµÑ€ÑŒÑ', wishes: [
                'ĞĞµĞ¶Ğ½Ğ°Ñ Ğ›ÑƒĞºĞµÑ€ÑŒÑ, Ñ Ğ¿Ñ€Ğ°Ğ·Ğ´Ğ½Ğ¸ĞºĞ¾Ğ¼!',
                'ĞŸÑƒÑÑ‚ÑŒ Ğ²ĞµÑĞ½Ğ° Ğ¿Ğ¾Ğ´Ğ°Ñ€Ğ¸Ñ‚ Ğ¼Ğ½Ğ¾Ğ³Ğ¾ Ñ†Ğ²ĞµÑ‚Ğ¾Ğ²!',
                'Ğ¡Ñ‡Ğ°ÑÑ‚ÑŒÑ, Ğ»ÑĞ±Ğ²Ğ¸ Ğ¸ ĞºÑ€Ğ°ÑĞ¾Ñ‚Ñ‹! âœ¨'
            ]},
            { icon: 'ğŸŒ¸', name: 'ĞšĞ°Ñ€Ğ¸Ğ½Ğ°', wishes: [
                'ĞšĞ°Ñ€Ğ¸Ğ½Ğ°, ÑĞ¸ÑĞ¹ ÑÑ€ĞºĞ¾!',
                'ĞŸÑƒÑÑ‚ÑŒ Ğ¼ĞµÑ‡Ñ‚Ñ‹ ÑĞ±Ñ‹Ğ²Ğ°ÑÑ‚ÑÑ!',
                'Ğ¡ 8 Ğ¼Ğ°Ñ€Ñ‚Ğ°! ğŸŒ¸'
            ]},
            { icon: 'ğŸŒ¼', name: 'Ğ®Ğ»Ñ', wishes: [
                'Ğ®Ğ»ĞµĞ½ÑŒĞºĞ°, Ñ Ğ¿Ñ€Ğ°Ğ·Ğ´Ğ½Ğ¸ĞºĞ¾Ğ¼!',
                'ĞÑÑ‚Ğ°Ğ²Ğ°Ğ¹ÑÑ Ñ‚Ğ°ĞºĞ¾Ğ¹ Ğ¶Ğµ Ñ‡ÑƒĞ´ĞµÑĞ½Ğ¾Ğ¹!',
                'ĞœĞ¾Ñ€Ğµ ÑƒĞ»Ñ‹Ğ±Ğ¾Ğº Ğ¸ Ñ†Ğ²ĞµÑ‚Ğ¾Ğ²! ğŸŒº'
            ]},
            { icon: 'ğŸŒº', name: 'ĞœĞ°ÑˆĞ°', wishes: [
                'ĞœĞ°ÑˆĞµĞ½ÑŒĞºĞ°, Ñ 8 Ğ¼Ğ°Ñ€Ñ‚Ğ°!',
                'ĞĞµĞ¶Ğ½Ğ¾ÑÑ‚Ğ¸, Ñ‚ĞµĞ¿Ğ»Ğ° Ğ¸ Ğ²Ğ´Ğ¾Ñ…Ğ½Ğ¾Ğ²ĞµĞ½Ğ¸Ñ!',
                'Ğ‘ÑƒĞ´ÑŒ ÑÑ‡Ğ°ÑÑ‚Ğ»Ğ¸Ğ²Ğ° ĞºĞ°Ğ¶Ğ´Ñ‹Ğ¹ Ğ´ĞµĞ½ÑŒ! ğŸ’–'
            ]},
            { icon: 'âœ¨', name: 'ĞĞ°ÑÑ‚Ñ', wishes: [
                'ĞĞ°ÑÑ‚ÑÑˆĞ°, Ñ Ğ¿Ñ€Ğ°Ğ·Ğ´Ğ½Ğ¸ĞºĞ¾Ğ¼ Ğ²ĞµÑĞ½Ñ‹!',
                'ĞŸÑƒÑÑ‚ÑŒ Ğ²ÑÑ‘ Ğ·Ğ°Ğ´ÑƒĞ¼Ğ°Ğ½Ğ½Ğ¾Ğµ ÑĞ±ÑƒĞ´ĞµÑ‚ÑÑ!',
                'Ğ¡Ğ¸ÑĞ¹ Ğ¸ Ñ€Ğ°Ğ´ÑƒĞ¹ Ğ¼Ğ¸Ñ€! ğŸŒ·'
            ]}
        ];

        // ==================== Ğ—ĞĞŸĞĞ›ĞĞ•ĞĞ˜Ğ• Ğ˜ĞœĞĞ ====================
        const container = document.getElementById('namesContainer');
        namesData.forEach((item, index) => {
            const block = document.createElement('div');
            block.className = 'personal-block' + (item.special ? ' special' : '');
            block.onclick = () => openNameModal(index);
            block.setAttribute('role', 'button');
            block.setAttribute('tabindex', '0');
            block.innerHTML = `
                <div class="name-row">
                    <span class="name-icon">${item.icon}</span>
                    <span class="name-label">${item.name}</span>
                </div>
            `;
            container.appendChild(block);
        });

        // ==================== ĞœĞĞ”ĞĞ›ĞšĞ Ğ˜ĞœĞĞ ====================
        const nameModal = document.getElementById('nameModal');
        const modalNameIcon = document.getElementById('modalNameIcon');
        const modalNameTitle = document.getElementById('modalNameTitle');
        const modalWishes = document.getElementById('modalWishes');

        function openNameModal(index) {
            const data = namesData[index];
            modalNameIcon.textContent = data.icon;
            modalNameTitle.textContent = data.name;
            modalWishes.innerHTML = '';
            data.wishes.forEach(wish => {
                const div = document.createElement('div');
                div.className = 'wish-line';
                div.textContent = wish;
                modalWishes.appendChild(div);
            });
            nameModal.style.display = 'flex';
        }
        
        function closeNameModal() { nameModal.style.display = 'none'; }

        // ==================== Ğ›Ğ•ĞŸĞ•Ğ¡Ğ¢ĞšĞ˜ ====================
        let currentPetalCount = 25;
        function createPetals(count) {
            const frontContainer = document.getElementById('petalsFront');
            frontContainer.innerHTML = '';
            const petalsList = ['ğŸŒ¸', 'ğŸŒ·', 'ğŸŒ¼', 'ğŸŒº'];
            for (let i = 0; i < count; i++) {
                const petal = document.createElement('div');
                petal.className = 'petal';
                petal.textContent = petalsList[Math.floor(Math.random() * petalsList.length)];
                petal.style.left = Math.random() * 100 + '%';
                petal.style.animationDuration = (Math.random() * 8 + 8) + 's';
                petal.style.animationDelay = Math.random() * -15 + 's';
                petal.style.fontSize = (Math.random() * 1.2 + 0.9) + 'rem';
                frontContainer.appendChild(petal);
            }
        }

        function flowerRain(count = 25) {
            for (let i = 0; i < count; i++) {
                setTimeout(() => {
                    const flower = document.createElement('div');
                    flower.textContent = ['ğŸŒ¸','ğŸŒ·','ğŸŒ¼','ğŸŒº','ğŸŒ¹'][Math.floor(Math.random()*5)];
                    flower.style.position = 'fixed';
                    flower.style.left = Math.random() * 100 + '%';
                    flower.style.top = '-10%';
                    flower.style.fontSize = (Math.random() * 2 + 1.5) + 'rem';
                    flower.style.zIndex = '1000';
                    flower.style.pointerEvents = 'none';
                    flower.style.animation = `fall ${Math.random()*2+2}s linear forwards`;
                    document.body.appendChild(flower);
                    setTimeout(() => flower.remove(), 3500);
                }, i * 50);
            }
        }

        // ==================== Ğ˜Ğ“Ğ Ğ Ğ¡Ğ§Ğ•Ğ¢Ğ§Ğ˜Ğš ====================
        let flowerCount = 0;
        const counterElement = document.getElementById('flowerCounter');
        const clickFlower = document.getElementById('clickFlower');
        const gameHint = document.getElementById('gameHint');
        const progressBar = document.getElementById('progressBar');
        const victoryModal = document.getElementById('victoryModal');
        const victoryMessage = document.getElementById('victoryMessage');

        function updateDisplay() {
            counterElement.textContent = `ğŸŒº ${flowerCount}`;
            const progress = (flowerCount % 100) / 100 * 100;
            progressBar.style.width = progress + '%';
            const nextTarget = (Math.floor(flowerCount / 100) + 1) * 100;
            const toGo = nextTarget - flowerCount;
            gameHint.textContent = flowerCount > 0 ? `Ğ”Ğ¾ ${nextTarget} Ñ†Ğ²ĞµÑ‚Ğ¾Ğ²: ${toGo} âœ¨` : `ĞšĞ»Ğ¸ĞºĞ°Ğ¹ Ğ½Ğ° Ñ†Ğ²ĞµÑ‚Ğ¾Ğº!`;
        }

        const compliments = [
            "Ğ¢Ñ‹ ÑĞµĞ³Ğ¾Ğ´Ğ½Ñ Ğ¾ÑĞ»ĞµĞ¿Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ°! âœ¨",
            "Ğ£ Ñ‚ĞµĞ±Ñ Ğ¿Ğ¾Ñ‚Ñ€ÑÑĞ°ÑÑ‰Ğ°Ñ ÑƒĞ»Ñ‹Ğ±ĞºĞ°! ğŸ˜Š",
            "Ğ¢Ñ‹ â€” Ğ²ĞµÑĞµĞ½Ğ½ĞµĞµ Ğ²Ğ´Ğ¾Ñ…Ğ½Ğ¾Ğ²ĞµĞ½Ğ¸Ğµ! ğŸŒ¼",
            "Ğ¡ Ñ‚Ğ¾Ğ±Ğ¾Ğ¹ Ñ‚ĞµĞ¿Ğ»Ğ¾, ĞºĞ°Ğº Ğ² Ğ¼Ğ°Ğµ! â˜€ï¸",
            "Ğ¢Ğ²Ğ¾Ñ ÑĞ½ĞµÑ€Ğ³Ğ¸Ñ Ğ·Ğ°Ñ€ÑĞ¶Ğ°ĞµÑ‚! âš¡",
            "Ğ¢Ñ‹ Ñ‡ÑƒĞ´Ğ¾! ğŸ’–",
            "ĞĞµĞ¶Ğ½Ğ¾ÑÑ‚ÑŒ Ğ¸ ĞºÑ€Ğ°ÑĞ¾Ñ‚Ğ° â€” ÑÑ‚Ğ¾ Ñ‚Ñ‹! ğŸŒ¸"
        ];
        
        const complimentModal = document.getElementById('complimentModal');
        const complimentMessage = document.getElementById('complimentMessage');

        function check50() {
            if (flowerCount > 0 && flowerCount % 50 === 0) {
                const randomIndex = Math.floor(Math.random() * compliments.length);
                complimentMessage.textContent = compliments[randomIndex];
                complimentModal.style.display = 'flex';
            }
        }

        function closeComplimentModal() { complimentModal.style.display = 'none'; }

        function checkVictory() {
            if (flowerCount % 100 === 0 && flowerCount > 0) {
                victoryMessage.innerHTML = `ğŸ‰ ${flowerCount} Ñ†Ğ²ĞµÑ‚Ğ¾Ğ²!<br>Ğ¢Ñ‹ Ğ½ĞµĞ²ĞµÑ€Ğ¾ÑÑ‚Ğ½Ğ°! ğŸ‰`;
                victoryModal.style.display = 'flex';
                flowerRain(25);
            }
        }

        clickFlower.addEventListener('click', function(e) {
            e.preventDefault();
            flowerCount++;
            updateDisplay();
            this.style.transform = 'scale(0.92)';
            setTimeout(() => this.style.transform = 'scale(1)', 100);
            checkVictory();
            check50();
        });

        clickFlower.addEventListener('touchstart', function(e) {
            e.preventDefault();
            this.style.transform = 'scale(0.92)';
        });

        clickFlower.addEventListener('touchend', function(e) {
            e.preventDefault();
            this.style.transform = 'scale(1)';
            flowerCount++;
            updateDisplay();
            checkVictory();
            check50();
        });

        document.getElementById('titleClick').addEventListener('click', function() {
            flowerRain(30);
        });

        document.getElementById('titleClick').addEventListener('touchstart', function(e) {
            e.preventDefault();
            flowerRain(30);
        });

        function closeVictoryModal() { victoryModal.style.display = 'none'; }

        // ==================== ĞŸĞ ĞĞœĞ ĞœĞĞ”ĞĞ›ĞšĞ ====================
        const promoModal = document.getElementById('promoModal');
        const easterEgg = document.getElementById('easterEgg');
        
        easterEgg.addEventListener('click', function() {
            promoModal.style.display = 'flex';
            document.getElementById('promoCodeInput').value = '';
        });

        easterEgg.addEventListener('touchstart', function(e) {
            e.preventDefault();
            promoModal.style.display = 'flex';
            document.getElementById('promoCodeInput').value = '';
        });

        function closePromoModal() { promoModal.style.display = 'none'; }

        document.getElementById('applyPromoCodeBtn').addEventListener('click', function() {
            const input = document.getElementById('promoCodeInput');
            const code = input.value.trim();
            let message = '';

            if (code === '1488') {
                flowerCount = 0;
                updateDisplay();
                message = 'ğŸš« ĞÑÑƒĞ¶Ğ´Ğ°Ñ Ğ½Ğ°Ñ†Ğ¸Ğ·Ğ¼! Ğ¡Ñ‡ĞµÑ‚ Ğ¾Ğ±Ğ½ÑƒĞ»ĞµĞ½.';
            } else if (code === '52') {
                flowerCount += 5200;
                updateDisplay();
                message = 'Ğ¡Ğ°Ğ½ĞºÑ‚-ĞŸĞµÑ‚ĞµÑ€Ğ±ÑƒÑ€Ğ³! âœ¨ +5200 Ñ†Ğ²ĞµÑ‚Ğ¾Ğ²';
            } else if (code === '67') {
                flowerCount += 1;
                updateDisplay();
                message = 'Ğ½Ğµ ÑĞ¼ĞµÑˆĞ½Ğ¾ ğŸ˜• +1 Ñ†Ğ²ĞµÑ‚Ğ¾Ğº';
            } else if (code === '1337') {
                flowerCount += 133700;
                updateDisplay();
                message = 'elite ğŸ‘¾ +133700 Ñ†Ğ²ĞµÑ‚Ğ¾Ğ²';
            } else if (code === '69') {
                flowerCount += 690;
                updateDisplay();
                message = '... ğŸ˜ +690 Ñ†Ğ²ĞµÑ‚Ğ¾Ğ²';
            } else {
                message = 'ĞĞµĞ²ĞµÑ€Ğ½Ñ‹Ğ¹ Ğ¿Ñ€Ğ¾Ğ¼Ğ¾ĞºĞ¾Ğ´';
            }

            alert(message);
            if (code === '1488' || code === '52' || code === '67' || code === '1337' || code === '69') {
                checkVictory();
                check50();
            }
            closePromoModal();
        });

        // ==================== ĞĞĞ¡Ğ¢Ğ ĞĞ™ĞšĞ˜ ====================
        const settingsModal = document.getElementById('settingsModal');
        const settingsButton = document.getElementById('settingsButton');
        const petalSlider = document.getElementById('petalCountSlider');
        const petalCountValue = document.getElementById('petalCountValue');

        settingsButton.addEventListener('click', () => {
            settingsModal.style.display = 'flex';
        });

        settingsButton.addEventListener('touchstart', (e) => {
            e.preventDefault();
            settingsModal.style.display = 'flex';
        });

        function closeSettingsModal() {
            settingsModal.style.display = 'none';
        }

        petalSlider.addEventListener('input', (e) => {
            const val = e.target.value;
            petalCountValue.textContent = val;
            currentPetalCount = Number(val);
            createPetals(currentPetalCount);
        });

        // Ğ—Ğ°ĞºÑ€Ñ‹Ñ‚Ğ¸Ğµ Ğ¼Ğ¾Ğ´Ğ°Ğ»Ğ¾Ğº Ğ¿Ğ¾ ĞºĞ»Ğ¸ĞºÑƒ Ğ²Ğ½Ğµ
        window.onclick = function(event) {
            if (event.target === nameModal) closeNameModal();
            if (event.target === victoryModal) closeVictoryModal();
            if (event.target === complimentModal) closeComplimentModal();
            if (event.target === promoModal) closePromoModal();
            if (event.target === settingsModal) closeSettingsModal();
        };

        // Ğ—Ğ°ĞºÑ€Ñ‹Ñ‚Ğ¸Ğµ Ğ¿Ğ¾ ÑĞ²Ğ°Ğ¹Ğ¿Ñƒ Ğ²Ğ½Ğ¸Ğ· Ğ´Ğ»Ñ Ğ¼Ğ¾Ğ´Ğ°Ğ»Ğ¾Ğº (Ğ´Ğ»Ñ Ğ¼Ğ¾Ğ±Ğ¸Ğ»ÑŒĞ½Ñ‹Ñ…)
        document.querySelectorAll('.custom-modal-content').forEach(modal => {
            modal.addEventListener('touchmove', (e) => {
                e.stopPropagation();
            });
        });

        // Ğ˜Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ
        createPetals(currentPetalCount);
        updateDisplay();

        // ĞŸÑ€ĞµĞ´Ğ¾Ñ‚Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµĞ¼ Ğ¼Ğ°ÑÑˆÑ‚Ğ°Ğ±Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ´Ğ²Ğ¾Ğ¹Ğ½Ñ‹Ğ¼ Ñ‚Ğ°Ğ¿Ğ¾Ğ¼
        document.addEventListener('touchstart', (e) => {
            if (e.touches.length > 1) {
                e.preventDefault();
            }
        }, { passive: false });
    </script>
</body>
</html>